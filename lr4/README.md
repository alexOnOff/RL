# Лабораторная работа №4. 
## Методы Монте-Карло
### Обсуждение.Оценивание ценности состояний (предcказание или оценивание стратегии ради ценности состояний)

*1.  Опираясь на рисунок рассмотренной стратегии игры агента в блэкджек, попробуйте ответить на вопросы:*

  *Почему оценка функции ценности резко возрастает в последних двух делениях на задней части графика (когда сумма очков у агента $19-21$)?*

  Агент в таком случае не будет брать карту, соответственно шанс перебора сведен к нулю. Дилер же будет брать карты при 17 и меньше, в таком случае даже видя, что у игрока счет 19-21, а у него 17-18, он не будет брать карты, что детерминировано ведет к победе игрока.
  В общем при счете игрока 19-21 у него просто больше шанс выиграть.

  *Почему она спадает в последней левой строке на диаграммах (когда у крупье открытая карта - туз)?*

  У игрока малое количество очков => велик шанс либо перебрать сразу от +10, либо перебрать во время набора нескольких карт.

  *Почему значения на переднем плане на верхних диаграммах выше, чем на нижних?*

  Играющий туз дает "вариабильность" игроку.В удобный момент он может назвать туза +1 или +11

*2.  Будет ли разница в результатах, если вместо МК первого посещения выбрать метод МК всех посещений и почему? Запрограммируйте оба алгоритма и сравните их оценки на одной стратегии.*

Не будет разницы, потому мы заведомо не сможем попасть в одно и то же состояние в рамках одного эпизода.
Результаты в lr4.ipynb

### Обсуждение.Вариант Монте-Карло классической итерации по стратегиям (управление)

*1.  В алгоритм метода Монте-Карло ИС для оптимизации следует вместо хранения всех доходов хранить только среднее доходов и количество элементов в списке (для каждой пары состояние–действие) и обновлять их инкрементно. Такой подход описан в разделе Инкрементной реализации методички Многоруких бандитов.*

С++ позволяет хранить все, поэтому не оптимизирую) 

